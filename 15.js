const { _, log, runSamples, Vector2, PriorityQueue, ...aoc } = require('./dist/util')
const { Roguelike } = require('./dist/roguelike')


/** @param {string[]} lines */
function main(lines) {
    const game = new Roguelike(lines)
    game.run()
}

//runTests()
runActual()

function runTests() {
    const tests = [
        `
        #######   
        #.G...#
        #...EG#
        #.#.#G#
        #..G#E#
        #.....#   
        #######   
        `,
        `
        #######
        #G..#E#
        #E#E.E#
        #G.##.#
        #...#E#
        #...E.#
        #######
        `,
        `
        #######
        #E..EG#
        #.#G.E#
        #E.##E#
        #G..#.#
        #..E#.#
        #######
        `,
        `
        #######
        #E.G#.#
        #.#G..#
        #G.#.G#
        #G..#.#
        #...E.#
        #######
        `,
        `
        ####### 
        #.E...#
        #.#..G#
        #.###.#
        #E#G#G#
        #...#G#
        #######
        `,
        `
        #########
        #G......#
        #.E.#...#
        #..##..G#
        #...##..#
        #...#...#
        #.G...G.#
        #.....G.#
        #########
        `]
    runSamples(main, [tests[0]])
}

function runActual() {
    runSamples(main, [
        `
        ################################
        ####################.......#####
        ##################.G.......###.#
        ##################...G.........#
        #############................###
        ############..............######
        ############...##......#########
        ############...G.....#.#########
        ##..##........G##.........######
        ##..##.....#.G...........E#..###
        ##..##.....#.....G......G..E..##
        ##G............................#
        #....G........#####..G.........#
        #......#.G...#######..E.......##
        #...##..G...#########E.....#####
        ##...G.#....#########.....######
        ######G.G...#########..#.#######
        ######.#...G#########.##########
        #####.......#########.##########
        #####.GE.....#######..##########
        #####.....E...#####...##########
        #######....G..........##########
        #######..........G..############
        ######.G............############
        #########...........#..#########
        ############..........##########
        ############E...E.##...#########
        #############.....E..E.#########
        ##############.........#########
        ##############...#....##########
        ###############..#.#############
        ################################
        `
    ])
}